<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Heart Disease Prediction System</h1>
    
    <form action="/predict" method="post">
        <label for="age">Age:</label>
        <input type="number" name="age" required><br>

        <label for="sex">Sex (0 = Female, 1 = Male):</label>
        <input type="number" name="sex" min="0" max="1" required><br>

        <label for="cp">Chest Pain Type (0-3):</label>
        <input type="number" name="cp" min="0" max="3" required><br>

        <label for="trestbps">Resting Blood Pressure (mmHg):</label>
        <input type="number" name="trestbps" required><br>

        <label for="chol">Cholesterol (mg/dl):</label>
        <input type="number" name="chol" required><br>

        <label for="fbs">Fasting Blood Sugar (>120 mg/dl, 1 = Yes, 0 = No):</label>
        <input type="number" name="fbs" min="0" max="1" required><br>

        <label for="restecg">Resting ECG (0-2):</label>
        <input type="number" name="restecg" min="0" max="2" required><br>

        <label for="thalach">Max Heart Rate Achieved:</label>
        <input type="number" name="thalach" required><br>

        <label for="exang">Exercise-Induced Angina (1 = Yes, 0 = No):</label>
        <input type="number" name="exang" min="0" max="1" required><br>

        <label for="oldpeak">ST Depression (Oldpeak):</label>
        <input type="number" step="0.1" name="oldpeak" required><br>

        <label for="slope">Slope of ST Segment (0-2):</label>
        <input type="number" name="slope" min="0" max="2" required><br>

        <label for="ca">Number of Major Vessels (0-3):</label>
        <input type="number" name="ca" min="0" max="3" required><br>

        <label for="thal">Thalassemia (0-3):</label>
        <input type="number" name="thal" min="0" max="3" required><br>

        <button type="submit">Predict</button>
    </form>

    {% if prediction is not none %}
        <h2>Prediction: {{ prediction }}</h2>
    {% endif %}

    {% if health_tips %}
        <h3>Health Recommendations:</h3>
        <p>{{ health_tips }}</p>
    {% endif %}

    {% if explanation %}
        <h3>Feature Importance:</h3>
        <ul>
            {% for feature, importance in explanation %}
                <li><strong>{{ feature }}:</strong> {{ importance|round(3) }}</li>
            {% endfor %}
        </ul>
    {% endif %}
</body>
</html>
